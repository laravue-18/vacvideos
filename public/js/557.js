"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[557],{4503:(e,t,n)=>{n.d(t,{Z:()=>r});var l=n(3645),o=n.n(l)()((function(e){return e[1]}));o.push([e.id,".player{position:relative}.controls{background-color:rgba(43,51,63,.7);bottom:0;display:flex;height:3em;left:0;position:absolute;right:0;width:100%}.player:focus-within .controls,.player:hover .controls{opacity:1}",""]);const r=o},8759:(e,t,n)=>{n.d(t,{Z:()=>h});var l=n(821),o={class:"player"},r={ref:"player",class:"w-full",tabindex:"-1"},c=["src"],i={class:"controls flex justify-between items-center px-2"},a={class:"flex-1 text-white px-3 flex justify-between items-center"},s=(0,l.createElementVNode)("span",null," / ",-1),d={class:"flex-1 px-4"};const u={name:"VideoPlayer",props:["src"],data:function(){return{player:{},isPlaying:!1,isFullscreen:!1,step:3,percent:0,current:"00:00",duration:"00:00"}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=this.$refs.player;t.onloadeddata=function(){console.log("hi");var n=Math.floor(t.duration/60),l=Math.floor(t.duration-60*n),o=n.toString().padStart(2,"0"),r=l.toString().padStart(2,"0"),c="".concat(o,":").concat(r);e.duration=c},t.addEventListener("timeupdate",(function(){var n=Math.floor(t.currentTime/60),l=Math.floor(t.currentTime-60*n),o=n.toString().padStart(2,"0"),r=l.toString().padStart(2,"0"),c="".concat(o,":").concat(r);e.current=c,e.percent=t.currentTime/t.duration*100})),t.onended=function(){e.isPlaying=!1,e.percent=0,e.current="00:00"}},togglePlayStop:function(){var e=this.$refs.player;this.isPlaying=!this.isPlaying,e.paused?e.play():e.pause()},toggleFullscreen:function(){var e=document.querySelector(".player");document.fullscreenElement?document.exitFullscreen&&(document.exitFullscreen(),this.isFullscreen=!1):(e.requestFullscreen(),this.isFullscreen=!0)},skip:function(e){var t=this.$refs.player,n=t.currentTime+e;0<n&&n<t.duration&&(t.currentTime+=e)},changeTime:function(e){var t=this.$refs.player;t.currentTime=Math.floor(t.duration*e/100)}},watch:{src:function(){this.$refs.player.src=this.src,this.init(),this.isPlaying=!1,this.percent=0,this.current="00:00"}}};var p=n(3379),m=n.n(p),f=n(4503),v={insert:"head",singleton:!1};m()(f.Z,v);f.Z.locals;const h=(0,n(3744).Z)(u,[["render",function(e,t,n,u,p,m){var f=(0,l.resolveComponent)("Button"),v=(0,l.resolveComponent)("Slider");return(0,l.openBlock)(),(0,l.createElementBlock)("div",o,[(0,l.createElementVNode)("video",r,[(0,l.createElementVNode)("source",{src:n.src,type:"video/mp4"},null,8,c)],512),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",null,[(0,l.createVNode)(f,{type:"text",onClick:m.togglePlayStop,class:"mr-2",size:"small",icon:p.isPlaying?"md-pause":"md-play",ghost:""},null,8,["onClick","icon"]),(0,l.createVNode)(f,{type:"text",onClick:t[0]||(t[0]=function(e){return m.skip(-p.step)}),class:"mr-2",size:"small",icon:"md-skip-backward",ghost:""}),(0,l.createVNode)(f,{type:"text",onClick:t[1]||(t[1]=function(e){return m.skip(p.step)}),size:"small",icon:"md-skip-forward",ghost:""})]),(0,l.createElementVNode)("div",a,[(0,l.createElementVNode)("div",null,[(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(p.current),1),s,(0,l.createElementVNode)("span",null,(0,l.toDisplayString)(p.duration),1)]),(0,l.createElementVNode)("div",d,[(0,l.createVNode)(v,{modelValue:p.percent,"onUpdate:modelValue":t[2]||(t[2]=function(e){return p.percent=e}),step:.1,onOnChange:m.changeTime},null,8,["modelValue","step","onOnChange"])])]),(0,l.createElementVNode)("div",null,[(0,l.createVNode)(f,{type:"text",onClick:m.toggleFullscreen,class:"mr-2",size:"small",icon:p.isFullscreen?"md-contract":"md-expand",ghost:""},null,8,["onClick","icon"])])])])}]])},5557:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var l=n(821),o={class:"py-4 shadow"},r={class:"container m-auto flex justify-between"},c=(0,l.createElementVNode)("div",{class:"text-2xl font-bold text-gray-800"},"Travel Videos",-1),i={class:"flex container m-auto pt-8"},a={class:"flex-1"},s={key:0},d={key:1,class:"flex justify-center items-center border bg-black",style:{height:"500px"}},u=[(0,l.createElementVNode)("h5",{class:"text-gray-100 text-2xl font-bold"},"There is no video.",-1)],p={class:"pl-3"},m={style:{width:"400px"},class:"px-4 ml-4 h-full border rounded overflow-auto"},f={class:"flex py-6"},v={class:"pl-3 py-2"},h={class:"text-lg font-bold"},y={class:""},g={class:""},V={class:"border-t"},N=["onClick"],E={class:"w-36"},k=["src"],x={class:"py-2 pl-4"};const b={name:"VideoExample",components:{VideoPlayer:n(8759).Z},data:function(){return{client:{pictures:[],videos:[]},videos:[],src:"",videoOptions:{autoplay:!0,controls:!0,src:""}}},computed:{},mounted:function(){var e=this;axios.get("/api/clients/".concat(this.$route.params.id)).then((function(t){e.client=t.data;var n=t.data.videos.map((function(e){return"/media/"+e.Location}));e.videos=n,e.src=n[0]}))},updated:function(){},methods:{playVideo:function(e){this.src=e},getName:function(e){var t=e.Location.split("/");return t[t.length-1]}}};const S=(0,n(3744).Z)(b,[["render",function(e,t,n,b,S,C){var w=(0,l.resolveComponent)("router-link"),B=(0,l.resolveComponent)("video-player"),T=(0,l.resolveComponent)("Avatar");return(0,l.openBlock)(),(0,l.createElementBlock)("div",null,[(0,l.createElementVNode)("div",o,[(0,l.createElementVNode)("div",r,[(0,l.createVNode)(w,{to:"/"},{default:(0,l.withCtx)((function(){return[c]})),_:1})])]),(0,l.createElementVNode)("div",i,[(0,l.createElementVNode)("div",a,[S.videos.length?((0,l.openBlock)(),(0,l.createElementBlock)("div",s,[(0,l.createVNode)(B,{src:S.src},null,8,["src"])])):((0,l.openBlock)(),(0,l.createElementBlock)("div",d,u))]),(0,l.createElementVNode)("div",p,[(0,l.createElementVNode)("div",m,[(0,l.createElementVNode)("div",f,[(0,l.createElementVNode)("div",null,[(0,l.createVNode)(T,{src:"/media/"+(S.client.pictures.length?S.client.pictures[0].Picture_Location.substring(11):"a.png"),size:"120"},null,8,["src"])]),(0,l.createElementVNode)("div",v,[(0,l.createElementVNode)("p",h,(0,l.toDisplayString)(S.client.Client_Name),1),(0,l.createElementVNode)("p",y,(0,l.toDisplayString)(S.client.Script),1),(0,l.createElementVNode)("p",g,(0,l.toDisplayString)(S.client.Timestamp),1)])]),(0,l.createElementVNode)("div",V,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(S.videos,(function(e,t){return(0,l.openBlock)(),(0,l.createElementBlock)("div",{onClick:function(t){return C.playVideo(e)},class:"border-b py-1 flex hover:bg-blue-50",key:t},[(0,l.createElementVNode)("div",E,[(0,l.createElementVNode)("video",null,[(0,l.createElementVNode)("source",{src:e,type:"video/mp4"},null,8,k)])]),(0,l.createElementVNode)("div",x,[(0,l.createElementVNode)("p",null,"Video "+(0,l.toDisplayString)(t),1),(0,l.createElementVNode)("p",null,(0,l.toDisplayString)(e.Timestamp),1)])],8,N)})),128))])])])])])}]])}}]);