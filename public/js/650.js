"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[650],{8650:(e,t,o)=>{o.r(t),o.d(t,{default:()=>D});var n=o(821),r={class:"py-4 shadow"},i={class:"container m-auto flex justify-between"},l=(0,n.createElementVNode)("div",{class:"text-2xl font-bold text-gray-800"},"Travel Videos",-1),s=(0,n.createTextVNode)("Logout"),c={class:"flex container m-auto pt-8"},a={class:"flex-1"},d={key:0},p={key:1,class:"flex justify-center items-center border bg-black",style:{height:"500px"}},u=[(0,n.createElementVNode)("h5",{class:"text-gray-100 text-2xl font-bold"},"There is no video.",-1)],f={class:"pl-3"},v={style:{width:"400px"},class:"px-4 ml-4 h-full border rounded overflow-auto"},m={class:"flex py-6"},y={class:"pl-3 py-2"},h={class:"text-lg font-bold"},b={class:""},g={class:""},V={class:"border-t"},k=["onClick"],E={class:"w-36"},N={class:"py-2 pl-4"};var O={class:"w-full"};var x=o(3364);const j={name:"VideoPlayer",props:{options:{type:Object,default:function(){return{}}}},data:function(){return{player:null,skipStep:10}},mounted:function(){var e=this;this.player=(0,x.Z)(this.$refs.videoPlayer,this.options,(function(){e.player.log("onPlayerReady",e)})),this.options.autoplay&&this.$refs.videoPlayer.focus()},updated:function(){this.player.src(this.options.sources[0]),this.options.autoplay&&this.$refs.videoPlayer.focus()},beforeDestroy:function(){this.player&&this.player.dispose()},methods:{skip:function(e){this.$refs.videoPlayer.currentTime+=e}}};var w=o(3744);function P(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function B(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){S(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const C={name:"VideoExample",components:{VideoPlayer:(0,w.Z)(j,[["render",function(e,t,o,r,i,l){return(0,n.openBlock)(),(0,n.createElementBlock)("div",O,[(0,n.createElementVNode)("video",{ref:"videoPlayer",class:"video-js vjs-default-skin vjs-16-9",onKeyup:[t[0]||(t[0]=(0,n.withKeys)((function(e){return l.skip(+i.skipStep)}),["right"])),t[1]||(t[1]=(0,n.withKeys)((function(e){return l.skip(-i.skipStep)}),["left"]))]},null,544)])}]])},data:function(){return{client:{pictures:[],videos:[]},videos:[],videoOptions:{autoplay:!0,controls:!0,src:""}}},computed:{user:function(){return this.$store.state.auth.user}},mounted:function(){var e=this;axios.get("/api/user").then((function(t){e.client=t.data;var o=t.data.videos.map((function(e){return e.src="/media/"+e.Location,e.type="video/mp4",e}));e.videos=o,e.videoOptions=B(B({},e.videoOptions),{},{sources:o[0]})}))},updated:function(){},methods:{playVideo:function(e){this.videoOptions=B(B({},this.videoOptions),{},{sources:[e]})},getName:function(e){var t=e.Location.split("/");return t[t.length-1]},logout:function(){this.$store.dispatch("auth/logout")}}},D=(0,w.Z)(C,[["render",function(e,t,o,O,x,j){var w=(0,n.resolveComponent)("Button"),P=(0,n.resolveComponent)("video-player"),B=(0,n.resolveComponent)("Avatar");return(0,n.openBlock)(),(0,n.createElementBlock)("div",null,[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("div",i,[l,(0,n.createVNode)(w,{onClick:j.logout},{default:(0,n.withCtx)((function(){return[s]})),_:1},8,["onClick"])])]),(0,n.createElementVNode)("div",c,[(0,n.createElementVNode)("div",a,[x.videos.length?((0,n.openBlock)(),(0,n.createElementBlock)("div",d,[(0,n.createVNode)(P,{options:x.videoOptions},null,8,["options"])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",p,u))]),(0,n.createElementVNode)("div",f,[(0,n.createElementVNode)("div",v,[(0,n.createElementVNode)("div",m,[(0,n.createElementVNode)("div",null,[(0,n.createVNode)(B,{src:"/media/"+(x.client.pictures.length?x.client.pictures[0].Picture_Location.substring(11):"a.png"),size:"120"},null,8,["src"])]),(0,n.createElementVNode)("div",y,[(0,n.createElementVNode)("p",h,(0,n.toDisplayString)(x.client.Client_Name),1),(0,n.createElementVNode)("p",b,(0,n.toDisplayString)(x.client.Script),1),(0,n.createElementVNode)("p",g,(0,n.toDisplayString)(x.client.Timestamp),1)])]),(0,n.createElementVNode)("div",V,[((0,n.openBlock)(!0),(0,n.createElementBlock)(n.Fragment,null,(0,n.renderList)(x.videos,(function(e,t){return(0,n.openBlock)(),(0,n.createElementBlock)("div",{onClick:function(t){return j.playVideo(e)},class:"border-b py-1 flex hover:bg-blue-50"},[(0,n.createElementVNode)("div",E,[(0,n.createVNode)(P,{options:{sources:e}},null,8,["options"])]),(0,n.createElementVNode)("div",N,[(0,n.createElementVNode)("p",null,"Video "+(0,n.toDisplayString)(t),1),(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(j.getName(e)),1),(0,n.createElementVNode)("p",null,(0,n.toDisplayString)(e.Timestamp),1)])],8,k)})),256))])])])])])}]])}}]);